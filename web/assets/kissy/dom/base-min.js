/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Mar 19 18:18
*/
KISSY.add("dom/base/api",function(c){var a=c.Env.host,f=c.UA,o={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},i={isCustomDomain:function(c){var c=c||a,f=c.document.domain,c=c.location.hostname;return f!=c&&f!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||a;return f.ie&&i.isCustomDomain(c)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())":""},NodeType:o,getWindow:function(c){return!c?a:"scrollTo"in c&&c.document?c:c.nodeType==o.DOCUMENT_NODE?c.defaultView||c.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var c=i.get(a),a=c.nodeName.toLowerCase();f.ie&&(c=c.scopeName)&&"HTML"!=c&&(a=c.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};c.mix(i,o);return i});
KISSY.add("dom/base/attr",function(c,a,f){function o(a,d){var d=z[d]||d,b=A[d];return b&&b.get?b.get(a,d):a[d]}var i=c.Env.host.document,p=a.NodeType,u=(i=i&&i.documentElement)&&i.textContent===f?"innerText":"textContent",g=a.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,j=/^(?:button|input|object|select|textarea)$/i,y=/^a(?:rea)?$/i,d=/:|^on/,b=/\r/g,k={},t={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},r={tabindex:{get:function(a){var d=a.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):j.test(a.nodeName)||y.test(a.nodeName)&&a.href?0:f}}},z={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},D={get:function(d,
q){return a.prop(d,q)?q.toLowerCase():f},set:function(d,q,b){!1===q?a.removeAttr(d,b):(q=z[b]||b,q in d&&(d[q]=!0),d.setAttribute(b,b.toLowerCase()));return b}},A={},x={},B={select:{get:function(d){var b=d.selectedIndex,c=d.options,h;if(0>b)return null;if("select-one"===d.type)return a.val(c[b]);d=[];b=0;for(h=c.length;b<h;++b)c[b].selected&&d.push(a.val(c[b]));return d},set:function(d,b){var f=c.makeArray(b);c.each(d.options,function(h){h.selected=c.inArray(a.val(h),f)});f.length||(d.selectedIndex=
-1);return f}}};c.each(["radio","checkbox"],function(d){B[d]={get:function(a){return null===a.getAttribute("value")?"on":a.value},set:function(d,b){if(c.isArray(b))return d.checked=c.inArray(a.val(d),b)}}});r.style={get:function(a){return a.style.cssText}};c.mix(a,{_valHooks:B,_propFix:z,_attrHooks:r,_propHooks:A,_attrNodeHook:x,_attrFix:k,prop:function(d,b,k){var h=a.query(d),n,m;if(c.isPlainObject(b))return c.each(b,function(d,n){a.prop(h,n,d)}),f;b=z[b]||b;m=A[b];if(k!==f)for(d=h.length-1;0<=d;d--)n=
h[d],m&&m.set?m.set(n,k,b):n[b]=k;else if(h.length)return o(h[0],b);return f},hasProp:function(d,b){var c=a.query(d),h,n=c.length,m;for(h=0;h<n;h++)if(m=c[h],o(m,b)!==f)return!0;return!1},removeProp:function(d,b){var b=z[b]||b,c=a.query(d),h,n;for(h=c.length-1;0<=h;h--){n=c[h];try{n[b]=f,delete n[b]}catch(m){}}},attr:function(b,q,j,h){var n=a.query(b),m=n[0];if(c.isPlainObject(q)){var h=j,v;for(v in q)a.attr(n,v,q[v],h);return f}if(!(q=c.trim(q)))return f;if(h&&t[q])return a[q](b,j);q=q.toLowerCase();
if(h&&t[q])return a[q](b,j);q=k[q]||q;b=e.test(q)?D:d.test(q)?x:r[q];if(j===f){if(m&&m.nodeType===p.ELEMENT_NODE){"form"==g(m)&&(b=x);if(b&&b.get)return b.get(m,q);q=m.getAttribute(q);return null===q?f:q}}else for(h=n.length-1;0<=h;h--)if((m=n[h])&&m.nodeType===p.ELEMENT_NODE)"form"==g(m)&&(b=x),b&&b.set?b.set(m,j,q):m.setAttribute(q,""+j);return f},removeAttr:function(d,b){var b=b.toLowerCase(),b=k[b]||b,c=a.query(d),h,n,m;for(m=c.length-1;0<=m;m--)if(n=c[m],n.nodeType==p.ELEMENT_NODE&&(n.removeAttribute(b),
e.test(b)&&(h=z[b]||b)in n))n[h]=!1},hasAttr:i&&!i.hasAttribute?function(d,b){var b=b.toLowerCase(),c=a.query(d),h,n;for(h=0;h<c.length;h++)if(n=c[h],(n=n.getAttributeNode(b))&&n.specified)return!0;return!1}:function(d,b){var c=a.query(d),h,n=c.length;for(h=0;h<n;h++)if(c[h].hasAttribute(b))return!0;return!1},val:function(d,j){var k,h,n,m,v;if(j===f){if(n=a.get(d)){if((k=B[g(n)]||B[n.type])&&"get"in k&&(h=k.get(n,"value"))!==f)return h;h=n.value;return"string"===typeof h?h.replace(b,""):null==h?"":
h}return f}h=a.query(d);for(m=h.length-1;0<=m;m--){n=h[m];if(1!==n.nodeType)break;v=j;null==v?v="":"number"===typeof v?v+="":c.isArray(v)&&(v=c.map(v,function(a){return a==null?"":a+""}));k=B[g(n)]||B[n.type];if(!k||!("set"in k)||k.set(n,v,"value")===f)n.value=v}return f},text:function(d,b){var c,h,n;if(b===f){c=a.get(d);if(c.nodeType==p.ELEMENT_NODE)return c[u]||"";if(c.nodeType==p.TEXT_NODE)return c.nodeValue}else{h=a.query(d);for(n=h.length-1;0<=n;n--)c=h[n],c.nodeType==p.ELEMENT_NODE?c[u]=b:c.nodeType==
p.TEXT_NODE&&(c.nodeValue=b)}return f}});return a},{requires:["./api"]});KISSY.add("dom/base",function(c,a){c.mix(c,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(c,a){function f(a){a=c.trim(a||"");return a.split(g)}function o(a){return function(c,f){var d,b,k,t=c.classList,g=p.call(arguments,2);d=0;for(b=f.length;d<b;d++)(k=f[d])&&t[a].apply(t,[k].concat(g))}}function i(c){return function(j,g){var d=f(g),b=p.call(arguments,2);a.query(j).each(function(k){k.nodeType==u.ELEMENT_NODE&&a[c].apply(a,[k,d].concat(b))})}}var p=[].slice,u=a.NodeType,g=/[\.\s]\s*\.?/;c.mix(a,{_hasClass:function(a,c){var f,d,b,k=a.classList;if(k.length){f=
0;for(d=c.length;f<d;f++)if((b=c[f])&&!k.contains(b))return!1;return!0}return!1},_addClass:o("add"),_removeClass:o("remove"),_toggleClass:o("toggle"),hasClass:function(c,j){var g=a.get(c);return g&&g.nodeType==u.ELEMENT_NODE&&a._hasClass(g,f(j))},replaceClass:function(c,f,g){a.removeClass(c,f);a.addClass(c,g)},addClass:i("_addClass"),removeClass:i("_removeClass"),toggleClass:i("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,a,f){function o(h){var d=c.require("event/dom/base");d&&d.detach(h);a.removeData(h)}function i(a,n){var c=n&&n!=e?n.createElement(d):b;c.innerHTML="m<div>"+a+"</div>";return c.lastChild}function p(a,d,b){var c=d.nodeType;if(c==j.DOCUMENT_FRAGMENT_NODE){d=d.childNodes;b=b.childNodes;for(c=0;d[c];)b[c]&&p(a,d[c],b[c]),c++}else if(c==j.ELEMENT_NODE){d=d.getElementsByTagName("*");b=b.getElementsByTagName("*");for(c=0;d[c];)b[c]&&a(d[c],b[c]),c++}}function u(h,d){var b=
c.require("event/dom"),f,l;if(d.nodeType!=j.ELEMENT_NODE||a.hasData(h)){f=a.data(h);for(l in f)a.data(d,l,f[l]);b&&(b._DOMUtils.removeData(d),b._clone(h,d))}}function g(a){var d=null,b,f;if(a&&(a.push||a.item)&&a[0]){d=a[0].ownerDocument;d=d.createDocumentFragment();a=c.makeArray(a);b=0;for(f=a.length;b<f;b++)d.appendChild(a[b])}return d}var e=c.Env.host.document,j=a.NodeType,y=c.UA.ie,d="div",b=e&&e.createElement(d),k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,t=/<([\w:]+)/,
r=/^\s+/,z=y&&9>y,D=/<|&#?\w+;/,A=e&&"outerHTML"in e.documentElement,x=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(a,{create:function(h,b,m,v){var l=null;if(!h)return l;if(h.nodeType)return a.clone(h);if("string"!=typeof h)return l;v===f&&(v=!0);v&&(h=c.trim(h));var v=a._creators,w,s,m=m||e,F,G=d;if(D.test(h))if(F=x.exec(h))l=m.createElement(F[1]);else{h=h.replace(k,"<$1></$2>");if((F=t.exec(h))&&(w=F[1]))G=w.toLowerCase();w=(v[G]||i)(h,m);z&&(s=h.match(r))&&w.insertBefore(m.createTextNode(s[0]),w.firstChild);
h=w.childNodes;1===h.length?l=h[0].parentNode.removeChild(h[0]):h.length&&(l=g(h))}else l=m.createTextNode(h);c.isPlainObject(b)&&(l.nodeType==j.ELEMENT_NODE?a.attr(l,b,!0):l.nodeType==j.DOCUMENT_FRAGMENT_NODE&&a.attr(l.childNodes,b,!0));return l},_fixCloneAttributes:null,_creators:{div:i},_defaultCreator:i,html:function(h,d,b,c){var h=a.query(h),l=h[0],w=!1,s,k;if(l){if(d===f)return l.nodeType==j.ELEMENT_NODE?l.innerHTML:null;d+="";if(!d.match(/<(?:script|style|link)/i)&&(!z||!d.match(r))&&!q[(d.match(t)||
["",""])[1].toLowerCase()])try{for(s=h.length-1;0<=s;s--)k=h[s],k.nodeType==j.ELEMENT_NODE&&(o(k.getElementsByTagName("*")),k.innerHTML=d);w=!0}catch(g){}w||(d=a.create(d,0,l.ownerDocument,0),a.empty(h),a.append(d,h,b));c&&c()}},outerHTML:function(h,c,m){var k=a.query(h),l=k.length;if(h=k[0]){if(c===f){if(A)return h.outerHTML;c=(c=h.ownerDocument)&&c!=e?c.createElement(d):b;c.innerHTML="";c.appendChild(a.clone(h,!0));c.appendChild(a.clone(h,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&
A)for(m=l-1;0<=m;m--)h=k[m],h.nodeType==j.ELEMENT_NODE&&(o(h),o(h.getElementsByTagName("*")),h.outerHTML=c);else h=a.create(c,0,h.ownerDocument,0),a.insertBefore(h,k,m),a.remove(k)}},remove:function(d,b){var m,k=a.query(d),l,w,s=c.require("event/dom/base"),f;for(f=k.length-1;0<=f;f--)m=k[f],!b&&m.nodeType==j.ELEMENT_NODE&&(l=c.makeArray(m.getElementsByTagName("*")),l.push(m),a.removeData(l),s&&s.detach(l)),(w=m.parentNode)&&w.removeChild(m)},clone:function(d,b,c,f){"object"===typeof b&&(f=b.deepWithDataAndEvent,
c=b.withDataAndEvent,b=b.deep);var d=a.get(d),l,w=a._fixCloneAttributes,s;if(!d)return null;s=d.nodeType;l=d.cloneNode(b);if(s==j.ELEMENT_NODE||s==j.DOCUMENT_FRAGMENT_NODE)w&&s==j.ELEMENT_NODE&&w(d,l),b&&w&&p(w,d,l);c&&(u(d,l),b&&f&&p(u,d,l));return l},empty:function(d){var d=a.query(d),b,c;for(c=d.length-1;0<=c;c--)b=d[c],a.remove(b.childNodes)},_nodeListToFragment:g});var B=a._creators,E=a.create,q={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",
tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},C;for(C in q)(function(a){B[C]=function(d,b){return E("<"+a+">"+d+"</"+a+">",null,b)}})(q[C]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,a,f){var o=c.Env.host,i="__ks_data_"+c.now(),p={},u={},g={applet:1,object:1,embed:1},e={hasData:function(a,b){if(a)if(b!==f){if(b in a)return!0}else if(!c.isEmptyObject(a))return!0;return!1}},j={hasData:function(a,b){return a==o?j.hasData(u,b):e.hasData(a[i],b)},data:function(a,b,c){if(a==o)return j.data(u,b,c);var g=a[i];if(c!==f)g=a[i]=a[i]||{},g[b]=c;else return b!==f?g&&g[b]:g=a[i]=a[i]||{}},removeData:function(a,b){if(a==o)return j.removeData(u,b);var k=a[i];
if(b!==f)delete k[b],c.isEmptyObject(k)&&j.removeData(a);else try{delete a[i]}catch(g){a[i]=f}}},y={hasData:function(a,b){var c=a[i];return!c?!1:e.hasData(p[c],b)},data:function(a,b,k){if(g[a.nodeName.toLowerCase()])return f;var j=a[i];if(!j){if(b!==f&&k===f)return f;j=a[i]=c.guid()}a=p[j];if(k!==f)a=p[j]=p[j]||{},a[b]=k;else return b!==f?a&&a[b]:a=p[j]=p[j]||{}},removeData:function(a,b){var k=a[i],j;if(k)if(j=p[k],b!==f)delete j[b],c.isEmptyObject(j)&&y.removeData(a);else{delete p[k];try{delete a[i]}catch(g){a[i]=
f}a.removeAttribute&&a.removeAttribute(i)}}};c.mix(a,{__EXPANDO:i,hasData:function(d,b){for(var c=!1,f=a.query(d),g=0;g<f.length&&!(c=f[g],c=c.nodeType?y.hasData(c,b):j.hasData(c,b));g++);return c},data:function(d,b,g){var d=a.query(d),e=d[0];if(c.isPlainObject(b)){for(var r in b)a.data(d,r,b[r]);return f}if(g===f){if(e)return e.nodeType?y.data(e,b):j.data(e,b)}else for(r=d.length-1;0<=r;r--)e=d[r],e.nodeType?y.data(e,b,g):j.data(e,b,g);return f},removeData:function(c,b){var f=a.query(c),g,e;for(e=
f.length-1;0<=e;e--)g=f[e],g.nodeType?y.removeData(g,b):j.removeData(g,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,a){function f(a,b){var c=[],t,r,i;for(t=0;a[t];t++)if(r=a[t],i=g(r),r.nodeType==p.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,f(e(r.childNodes),b));else if("script"===i&&(!r.type||y.test(r.type)))r.parentNode&&r.parentNode.removeChild(r),b&&b.push(r);else{if(r.nodeType==p.ELEMENT_NODE&&!u.test(i)){i=[];var o,A,x=r.getElementsByTagName("script");for(A=0;A<x.length;A++)o=x[A],(!o.type||y.test(o.type))&&i.push(o);j.apply(a,[t+1,0].concat(i))}c.push(r)}return c}function o(a){a.src?
c.getScript(a.src):(a=c.trim(a.text||a.textContent||a.innerHTML||""))&&c.globalEval(a)}function i(d,b,g,j){d=a.query(d);j&&(j=[]);d=f(d,j);a._fixInsertionChecked&&a._fixInsertionChecked(d);var b=a.query(b),e,i,p,A,x=b.length;if((d.length||j&&j.length)&&x){d=a._nodeListToFragment(d);1<x&&(A=a.clone(d,!0),b=c.makeArray(b));for(e=0;e<x;e++)i=b[e],d&&(p=0<e?a.clone(A,!0):d,g(p,i)),j&&j.length&&c.each(j,o)}}var p=a.NodeType,u=/^(?:button|input|object|select|textarea)$/i,g=a.nodeName,e=c.makeArray,j=[].splice,
y=/\/(java|ecma)script/i;c.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,c){i(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},c)},insertAfter:function(a,b,c){i(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},c)},appendTo:function(a,b,c){i(a,b,function(a,b){b.appendChild(a)},c)},prependTo:function(a,b,c){i(a,b,function(a,b){b.insertBefore(a,b.firstChild)},c)},wrapAll:function(c,b){b=a.clone(a.get(b),!0);c=a.query(c);c[0].parentNode&&a.insertBefore(b,
c[0]);for(var f;(f=b.firstChild)&&1==f.nodeType;)b=f;a.appendTo(c,b)},wrap:function(d,b){d=a.query(d);b=a.get(b);c.each(d,function(c){a.wrapAll(c,b)})},wrapInner:function(d,b){d=a.query(d);b=a.get(b);c.each(d,function(c){var d=c.childNodes;d.length?a.wrapAll(d,b):c.appendChild(b)})},unwrap:function(d){d=a.query(d);c.each(d,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(c,b){var f=a.query(c),b=a.query(b);a.remove(b,!0);a.insertBefore(b,f);a.remove(f)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){a[b]=a[c]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,a,f){function o(a){var c,b=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};c=a.getBoundingClientRect();a=c[k];c=c[t];a-=e.clientLeft||b.clientLeft||0;c-=e.clientTop||b.clientTop||0;return{left:a,top:c}}function i(c,d){var f={left:0,top:0},g=j(c[b]),e,k=c,d=d||g;do{if(g==d){var h=k;e=o(h);h=j(h[b]);e.left+=a[z](h);e.top+=a[D](h)}else e=o(k);f.left+=e.left;f.top+=e.top}while(g&&g!=d&&(k=g.frameElement)&&(g=g.parent));return f}var p=c.Env.host,
u=p.document,g=a.NodeType,e=u&&u.documentElement,j=a.getWindow,y=Math.max,d=parseInt,b="ownerDocument",k="left",t="top",r=c.isNumber,z="scrollLeft",D="scrollTop";c.mix(a,{offset:function(c,b,g){if(b===f){var c=a.get(c),j;c&&(j=i(c,g));return j}g=a.query(c);for(j=g.length-1;0<=j;j--){var c=g[j],e=b;"static"===a.css(c,"position")&&(c.style.position="relative");var k=i(c),h={},n=void 0,m=void 0;for(m in e)n=d(a.css(c,m),10)||0,h[m]=n+e[m]-k[m];a.css(c,h)}return f},scrollIntoView:function(b,e,i,p){var q,
o,h,n;if(h=a.get(b)){e&&(e=a.get(e));e||(e=h.ownerDocument);e.nodeType==g.DOCUMENT_NODE&&(e=j(e));c.isPlainObject(i)&&(p=i.allowHorizontalScroll,n=i.onlyScrollIfNeeded,i=i.alignWithTop);p=p===f?!0:p;o=!!j(e);var b=a.offset(h),m=a.outerHeight(h);q=a.outerWidth(h);var v,l,w,s;o?(o=e,v=a.height(o),l=a.width(o),s={left:a.scrollLeft(o),top:a.scrollTop(o)},o=b[k]-s[k],h=b[t]-s[t],q=b[k]+q-(s[k]+l),b=b[t]+m-(s[t]+v)):(v=a.offset(e),l=e.clientHeight,w=e.clientWidth,s={left:a.scrollLeft(e),top:a.scrollTop(e)},
o=b[k]-(v[k]+(d(a.css(e,"borderLeftWidth"))||0)),h=b[t]-(v[t]+(d(a.css(e,"borderTopWidth"))||0)),q=b[k]+q-(v[k]+w+(d(a.css(e,"borderRightWidth"))||0)),b=b[t]+m-(v[t]+l+(d(a.css(e,"borderBottomWidth"))||0)));if(n){if(0>h||0<b)!0===i?a.scrollTop(e,s.top+h):!1===i?a.scrollTop(e,s.top+b):0>h?a.scrollTop(e,s.top+h):a.scrollTop(e,s.top+b)}else(i=i===f?!0:!!i)?a.scrollTop(e,s.top+h):a.scrollTop(e,s.top+b);if(p)if(n){if(0>o||0<q)!0===i?a.scrollLeft(e,s.left+o):!1===i?a.scrollLeft(e,s.left+q):0>o?a.scrollLeft(e,
s.left+o):a.scrollLeft(e,s.left+q)}else(i=i===f?!0:!!i)?a.scrollLeft(e,s.left+o):a.scrollLeft(e,s.left+q)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(c,b){var d="scroll"+c;a[d]=function(e,i){if(r(e))return arguments.callee(p,e);var e=a.get(e),k,h,n,m=j(e);m?i!==f?(i=parseFloat(i),h="Left"==c?i:a.scrollLeft(m),n="Top"==c?i:a.scrollTop(m),m.scrollTo(h,n)):(k=m["page"+(b?"Y":"X")+"Offset"],r(k)||(h=m.document,k=h.documentElement[d],
r(k)||(k=h.body[d]))):e.nodeType==g.ELEMENT_NODE&&(i!==f?e[d]=parseFloat(i):k=e[d]);return k}});c.each(["Width","Height"],function(c){a["doc"+c]=function(b){b=a.get(b);b=j(b).document;return y(b.documentElement["scroll"+c],b.body["scroll"+c],a["viewport"+c](b))};a["viewport"+c]=function(b){var b=a.get(b),d="client"+c,b=j(b).document,e=b.body,f=b.documentElement[d];return"CSS1Compat"===b.compatMode&&f||e&&e[d]||f}});return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,a,f){function o(a){var b,c;for(c=0;c<this.length&&!(b=this[c],!1===a(b,c));c++);}function i(b,e){var g,j,l="string"==typeof b,w=e==f&&(j=1)?[d]:i(e);b?l?(b=E(b),j&&"body"==b?g=[d.body]:1==w.length&&b&&(g=u(b,w[0]))):j&&(g=b.nodeType||b.setTimeout?[b]:b.getDOMNodes?b.getDOMNodes():t(b)?b:z(b)?c.makeArray(b):[b]):g=[];if(!g&&(g=[],b)){for(j=0;j<w.length;j++)A.apply(g,p(b,w[j]));1<g.length&&(1<w.length||l&&-1<b.indexOf(B))&&a.unique(g)}g.each=o;return g}function p(a,
b){var d="string"==typeof a;if(d&&a.match(C)||!d)d=g(a,b);else if(d&&-1<a.replace(/"(?:(?:\\.)|[^"])*"/g,"").replace(/'(?:(?:\\.)|[^'])*'/g,"").indexOf(B)){var d=[],e,l=a.split(/\s*,\s*/);for(e=0;e<l.length;e++)A.apply(d,p(l[e],b))}else d=[],(e=c.require("sizzle"))&&e(a,b,d);return d}function u(b,c){var d,f,l,g;if(q.test(b))d=(f=e(b.slice(1),c))?[f]:[];else if(l=C.exec(b)){f=l[1];g=l[2];l=l[3];if(c=f?e(f,c):c)l?!f||-1!=b.indexOf(x)?d=[].concat(a._getElementsByClassName(l,g,c)):(f=e(f,c),j(f,l)&&(d=
[f])):g&&(d=r(a._getElementsByTagName(g,c)));d=d||[]}return d}function g(b,c){var e;"string"==typeof b?e=u(b,c)||[]:t(b)||z(b)?e=k(b,function(b){return!b?!1:c==d?!0:a._contains(c,b)}):(!b?0:c==d||a._contains(c,b))&&(e=[b]);return e}function e(c,d){var e=d.nodeType==b.DOCUMENT_NODE;return a._getElementById(c,d,e?d:d.ownerDocument,e)}function j(a,b){var c=a&&a.className;return c&&-1<(x+c+x).indexOf(x+b+x)}function y(a,b){var c=a&&a.getAttributeNode(b);return c&&c.nodeValue}var d=c.Env.host.document,
b=a.NodeType,k=c.filter,t=c.isArray,r=c.makeArray,z=a._isNodeList,D=a.nodeName,A=Array.prototype.push,x=" ",B=",",E=c.trim,q=/^#[\w-]+$/,C=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;c.mix(a,{_hasSingleClass:j,_getElementById:function(b,c,d,e){var l=d.getElementById(b),f=y(l,"id");return!l&&!e&&!a._contains(d,c)||l&&f!=b?a.filter("*","#"+b,c)[0]||null:e||l&&a._contains(c,l)?l:null},_getElementsByTagName:function(a,b){return b.getElementsByTagName(a)},_getElementsByClassName:function(a,b,c){return r(c.querySelectorAll((b||
"")+"."+a))},_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},query:i,get:function(a,b){return i(a,b)[0]||null},unique:function(){function b(d,l){return d==l?(c=!0,0):a._compareNodeOrder(d,l)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var l=1,e=a.length;l<e;)a[l]===a[l-1]?a.splice(l,1):l++;return a}}(),filter:function(a,b,d){var a=i(a,d),d=
c.require("sizzle"),e,l,f,g,k=[];if("string"==typeof b&&(b=E(b))&&(e=C.exec(b)))f=e[1],l=e[2],g=e[3],f?f&&!l&&!g&&(b=function(a){return y(a,"id")==f}):b=function(a){var b=!0,c=!0;l&&(b=D(a)==l.toLowerCase());g&&(c=j(a,g));return c&&b};c.isFunction(b)?k=c.filter(a,b):b&&d&&(k=d.matches(b,a));return k},test:function(b,c,d){b=i(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,a,f){function o(a){return a.replace(A,"ms-").replace(n,m)}function i(a,c,d){var e={},f;for(f in c)e[f]=a[b][f],a[b][f]=c[f];d.call(a);for(f in c)a[b][f]=e[f]}function p(a,c,d){var e,g,h;if(3===a.nodeType||8===a.nodeType||!(e=a[b]))return f;c=o(c);h=q[c];c=C[c]||c;if(d!==f){null===d||d===B?d=B:!isNaN(Number(d))&&!D[c]&&(d+=E);h&&h.set&&(d=h.set(a,d));if(d!==f){try{e[c]=d}catch(j){}d===B&&e.removeAttribute&&e.removeAttribute(c)}e.cssText||a.removeAttribute("style");
return f}if(!h||!("get"in h&&(g=h.get(a,!1))!==f))g=e[c];return g===f?"":g}function u(a){var b,c=arguments;0!==a.offsetWidth?b=g.apply(f,c):i(a,v,function(){b=g.apply(f,c)});return b}function g(b,d,e){if(c.isWindow(b))return d==t?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return d==t?a.docWidth(b):a.docHeight(b);var f=d===t?["Left","Right"]:["Top","Bottom"],g=d===t?b.offsetWidth:b.offsetHeight;if(0<g)return"border"!==e&&c.each(f,function(c){e||(g-=parseFloat(a.css(b,"padding"+c))||0);
g="margin"===e?g+(parseFloat(a.css(b,e+c))||0):g-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),g;g=a._getComputedStyle(b,d);if(null==g||0>Number(g))g=b.style[d]||0;g=parseFloat(g)||0;e&&c.each(f,function(c){g+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==e&&(g+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===e&&(g+=parseFloat(a.css(b,e+c))||0)});return g}var e=c.Env.host,j=c.UA,y=a.nodeName,d=e.document,b="style",k=/^margin/,t="width",r="display"+c.now(),z=parseInt,D={fillOpacity:1,fontWeight:1,
lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},A=/^-ms-/,x=/([A-Z]|^ms)/g,B="",E="px",q={},C={"float":"cssFloat"},h={},n=/-([a-z])/ig,m=function(a,b){return b.toUpperCase()};c.mix(a,{_camelCase:o,_CUSTOM_STYLES:q,_cssProps:C,_getComputedStyle:function(c,d){var e="",g,f,h,j,i;f=c.ownerDocument;d=d.replace(x,"-$1").toLowerCase();if(g=f.defaultView.getComputedStyle(c,null))e=g.getPropertyValue(d)||g[d];""===e&&!a.contains(f,c)&&(d=C[d]||d,e=c[b][d]);a._RE_NUM_NO_PX.test(e)&&k.test(d)&&(i=
c.style,f=i.width,h=i.minWidth,j=i.maxWidth,i.minWidth=i.maxWidth=i.width=e,e=g.width,i.width=f,i.minWidth=h,i.maxWidth=j);return e},style:function(b,d,e){var b=a.query(b),g,h=b[0];if(c.isPlainObject(d)){for(g in d)for(h=b.length-1;0<=h;h--)p(b[h],g,d[g]);return f}if(e===f)return g="",h&&(g=p(h,d,e)),g;for(h=b.length-1;0<=h;h--)p(b[h],d,e);return f},css:function(b,d,e){var b=a.query(b),g=b[0],h;if(c.isPlainObject(d)){for(h in d)for(g=b.length-1;0<=g;g--)p(b[g],h,d[h]);return f}d=o(d);h=q[d];if(e===
f){e="";if(g&&(!h||!("get"in h&&(e=h.get(g,!0))!==f)))e=a._getComputedStyle(g,d);return e===f?"":e}for(g=b.length-1;0<=g;g--)p(b[g],d,e);return f},show:function(c){var c=a.query(c),e,g,f;for(f=c.length-1;0<=f;f--)if(g=c[f],g[b].display=a.data(g,r)||B,"none"===a.css(g,"display")){e=g.tagName.toLowerCase();var j=void 0,i=h[e],k=void 0;h[e]||(j=d.body||d.documentElement,k=d.createElement(e),a.prepend(k,j),i=a.css(k,"display"),j.removeChild(k),h[e]=i);e=i;a.data(g,r,e);g[b].display=e}},hide:function(c){var c=
a.query(c),d,e;for(e=c.length-1;0<=e;e--){d=c[e];var g=d[b],f=g.display;"none"!==f&&(f&&a.data(d,r,f),g.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){b=b||e;"string"==typeof b&&(d=c,c=b,b=e);var b=a.get(b),b=a.getWindow(b).document,g;if(d&&(d=d.replace("#",B)))g=a.get("#"+d,b);g||(g=a.create("<style>",{id:d},b),a.get("head",b).appendChild(g),g.styleSheet?g.styleSheet.cssText=
c:g.appendChild(b.createTextNode(c)))},unselectable:function(d){var d=a.query(d),e,g,f=0,h,i;for(g=d.length-1;0<=g;g--)if(e=d[g],i=e[b],i.UserSelect="none",j.gecko)i.MozUserSelect="none";else if(j.webkit)i.WebkitUserSelect="none";else if(j.ie||j.opera){i=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(h=["iframe","textarea","input","select"];e=i[f++];)c.inArray(y(e),h)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});
c.each([t,"height"],function(b){a["inner"+c.ucfirst(b)]=function(c){return(c=a.get(c))&&u(c,b,"padding")};a["outer"+c.ucfirst(b)]=function(c,d){var e=a.get(c);return e&&u(e,b,d?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e}});var v={position:"absolute",visibility:"hidden",display:"block"};c.each(["height","width"],function(b){q[b]={get:function(a,c){if(c)return u(a,b)+"px"}}});c.each(["left","top"],function(b){q[b]={get:function(e,g){if(g){var f=a._getComputedStyle(e,
b);if("auto"===f){f=0;if(c.inArray(a.css(e,"position"),["absolute","fixed"])){f=e["left"===b?"offsetLeft":"offsetTop"];if(j.ie&&9>(d.documentMode||0)||j.opera)f-=e.offsetParent&&e.offsetParent["client"+("left"==b?"Left":"Top")]||0;f-=z(a.css(e,"margin-"+b))||0}f+="px"}return f}}}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,a,f){function o(g,e,j,o,d,b,k){if(!(g=a.get(g)))return null;if(0===e)return g;b||(g=g[j]);if(!g)return null;d=d&&a.get(d)||null;e===f&&(e=1);var b=[],p=c.isArray(e),r,z;c.isNumber(e)&&(r=0,z=e,e=function(){return++r===z});for(;g&&g!=d;){if((g.nodeType==u.ELEMENT_NODE||g.nodeType==u.TEXT_NODE&&k)&&i(g,e)&&(!o||o(g)))if(b.push(g),!p)break;g=g[j]}return p?b:b[0]||null}function i(g,e){if(!e)return!0;if(c.isArray(e)){var f,i=e.length;if(!i)return!0;for(f=0;f<i;f++)if(a.test(g,
e[f]))return!0}else if(a.test(g,e))return!0;return!1}function p(g,e,f,i){var d=[],b,k;if((b=g=a.get(g))&&f)b=g.parentNode;if(b){f=c.makeArray(b.childNodes);for(b=0;b<f.length;b++)k=f[b],(i||k.nodeType==u.ELEMENT_NODE)&&k!=g&&d.push(k);e&&(d=a.filter(d,e))}return d}var u=a.NodeType;c.mix(a,{_contains:function(a,c){return!!(a.compareDocumentPosition(c)&16)},closest:function(a,c,f,i){return o(a,c,"parentNode",function(a){return a.nodeType!=u.DOCUMENT_FRAGMENT_NODE},f,!0,i)},parent:function(a,c,j){return o(a,
c,"parentNode",function(a){return a.nodeType!=u.DOCUMENT_FRAGMENT_NODE},j,f)},first:function(c,e,j){c=a.get(c);return o(c&&c.firstChild,e,"nextSibling",f,f,!0,j)},last:function(c,e,j){c=a.get(c);return o(c&&c.lastChild,e,"previousSibling",f,f,!0,j)},next:function(a,c,j){return o(a,c,"nextSibling",f,f,f,j)},prev:function(a,c,j){return o(a,c,"previousSibling",f,f,f,j)},siblings:function(a,c,f){return p(a,c,!0,f)},children:function(a,c){return p(a,c,f)},contents:function(a,c){return p(a,c,f,1)},contains:function(c,
e){c=a.get(c);e=a.get(e);return c&&e?a._contains(c,e):!1},index:function(f,e){var j=a.query(f),i,d=0;i=j[0];if(!e){j=i&&i.parentNode;if(!j)return-1;for(;i=i.previousSibling;)i.nodeType==u.ELEMENT_NODE&&d++;return d}d=a.query(e);return"string"===typeof e?c.indexOf(i,d):c.indexOf(d[0],j)},equals:function(c,e){c=a.query(c);e=a.query(e);if(c.length!=e.length)return!1;for(var f=c.length;0<=f;f--)if(c[f]!=e[f])return!1;return!0}});return a},{requires:["./api"]});
