/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: May 7 19:42
*/
KISSY.add("dom/base/api",function(c){var a=c.Env.host,g=c.UA,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},j={isCustomDomain:function(c){var c=c||a,g=c.document.domain,c=c.location.hostname;return g!=c&&g!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||a;return g.ie&&j.isCustomDomain(c)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())":""},NodeType:n,getWindow:function(c){return!c?a:"scrollTo"in c&&c.document?c:c.nodeType==n.DOCUMENT_NODE?c.defaultView||c.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var c=j.get(a),a=c.nodeName.toLowerCase();g.ie&&(c=c.scopeName)&&"HTML"!=c&&(a=c.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};c.mix(j,n);return j});
KISSY.add("dom/base/attr",function(c,a,g){function n(a,h){var h=o[h]||h,d=r[h];return d&&d.get?d.get(a,h):a[h]}var j=c.Env.host.document,p=a.NodeType,j=j&&j.documentElement,s=a.nodeName,l=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,u=/:|^on/,d=/\r/g,b={},k={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},v={tabindex:{get:function(a){var h=
a.getAttributeNode("tabindex");return h&&h.specified?parseInt(h.value,10):f.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:g}}},o={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},y={get:function(d,h){return a.prop(d,h)?h.toLowerCase():g},set:function(d,h,b){!1===h?
a.removeAttr(d,b):(h=o[b]||b,h in d&&(d[h]=!0),d.setAttribute(b,b.toLowerCase()));return b}},r={},m={},e={select:{get:function(d){var h=d.selectedIndex,b=d.options,e;if(0>h)return null;if("select-one"===""+d.type)return a.val(b[h]);d=[];h=0;for(e=b.length;h<e;++h)b[h].selected&&d.push(a.val(b[h]));return d},set:function(d,h){var b=c.makeArray(h);c.each(d.options,function(d){d.selected=c.inArray(a.val(d),b)});b.length||(d.selectedIndex=-1);return b}}};c.each(["radio","checkbox"],function(d){e[d]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(d,b){return c.isArray(b)?d.checked=c.inArray(a.val(d),b):g}}});v.style={get:function(a){return a.style.cssText}};c.mix(a,{_valHooks:e,_propFix:o,_attrHooks:v,_propHooks:r,_attrNodeHook:m,_attrFix:b,prop:function(d,h,b){var e=a.query(d),m,q;if(c.isPlainObject(h))return c.each(h,function(d,h){a.prop(e,h,d)}),g;h=o[h]||h;q=r[h];if(b!==g)for(d=e.length-1;0<=d;d--)m=e[d],q&&q.set?q.set(m,b,h):m[h]=b;else if(e.length)return n(e[0],h);return g},hasProp:function(d,
h){var b=a.query(d),e,c=b.length,q;for(e=0;e<c;e++)if(q=b[e],n(q,h)!==g)return!0;return!1},removeProp:function(d,b){var b=o[b]||b,e=a.query(d),c,m;for(c=e.length-1;0<=c;c--){m=e[c];try{m[b]=g,delete m[b]}catch(q){}}},attr:function(d,h,e,f){var i=a.query(d),q=i[0];if(c.isPlainObject(h)){var f=e,x;for(x in h)a.attr(i,x,h[x],f);return g}if(f&&k[h])return a[h](d,e);h=h.toLowerCase();if(f&&k[h])return a[h](d,e);h=b[h]||h;d=l.test(h)?y:u.test(h)?m:v[h];if(e===g){if(q&&q.nodeType===p.ELEMENT_NODE){"form"==
s(q)&&(d=m);if(d&&d.get)return d.get(q,h);e=q.getAttribute(h);return""===e&&(h=q.getAttributeNode(h),!h||!h.specified)?g:null===e?g:e}}else for(f=i.length-1;0<=f;f--)if((q=i[f])&&q.nodeType===p.ELEMENT_NODE)"form"==s(q)&&(d=m),d&&d.set?d.set(q,e,h):q.setAttribute(h,""+e);return g},removeAttr:function(d,e){var e=e.toLowerCase(),e=b[e]||e,c=a.query(d),m,f,q;for(q=c.length-1;0<=q;q--)if(f=c[q],f.nodeType==p.ELEMENT_NODE&&(f.removeAttribute(e),l.test(e)&&(m=o[e]||e)in f))f[m]=!1},hasAttr:j&&!j.hasAttribute?
function(d,e){var e=e.toLowerCase(),b=a.query(d),c,m;for(c=0;c<b.length;c++)if(m=b[c],(m=m.getAttributeNode(e))&&m.specified)return!0;return!1}:function(d,e){var b=a.query(d),c,m=b.length;for(c=0;c<m;c++)if(b[c].hasAttribute(e))return!0;return!1},val:function(b,h){var m,f,k,q,x;if(h===g){if(k=a.get(b)){if((m=e[s(k)]||e[k.type])&&"get"in m&&(f=m.get(k,"value"))!==g)return f;f=k.value;return"string"===typeof f?f.replace(d,""):null==f?"":f}return g}f=a.query(b);for(q=f.length-1;0<=q;q--){k=f[q];if(1!==
k.nodeType)break;x=h;null==x?x="":"number"===typeof x?x+="":c.isArray(x)&&(x=c.map(x,function(a){return a==null?"":a+""}));m=e[s(k)]||e[k.type];if(!m||!("set"in m)||m.set(k,x,"value")===g)k.value=x}return g},text:function(d,b){var e,c,m,q;if(b===g)return e=a.get(d),a._getText(e);c=a.query(d);for(m=c.length-1;0<=m;m--)if(e=c[m],q=e.nodeType,q==p.ELEMENT_NODE)a.empty(e),e.appendChild(e.ownerDocument.createTextNode(b));else if(q==p.TEXT_NODE||q==p.CDATA_SECTION_NODE)e.nodeValue=b;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});KISSY.add("dom/base",function(c,a){c.mix(c,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(c,a){function g(a){for(var a=c.trim(a||""),a=a.split(l),g=[],u,d=a.length,b=0;b<d;b++)(u=a[b])&&g.push(u);return g}function n(a){return function(c,g){var d,b,k,v=c.classList,l=p.call(arguments,2);d=0;for(b=g.length;d<b;d++)(k=g[d])&&v[a].apply(v,[k].concat(l))}}function j(c){return function(i,l){var d=g(l),b=p.call(arguments,2);a.query(i).each(function(k){k.nodeType==s.ELEMENT_NODE&&a[c].apply(a,[k,d].concat(b))})}}var p=[].slice,s=a.NodeType,l=/[\.\s]\s*\.?/;c.mix(a,
{_hasClass:function(a,c){var g,d,b,k=a.classList;if(k.length){g=0;for(d=c.length;g<d;g++)if((b=c[g])&&!k.contains(b))return!1;return!0}return!1},_addClass:n("add"),_removeClass:n("remove"),_toggleClass:n("toggle"),hasClass:function(c,l){var j=a.get(c);return j&&j.nodeType==s.ELEMENT_NODE&&a._hasClass(j,g(l))},replaceClass:function(c,g,l){a.removeClass(c,g);a.addClass(c,l)},addClass:j("_addClass"),removeClass:j("_removeClass"),toggleClass:j("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,a,g){function n(d){var e=c.require("event/dom/base");e&&e.detach(d);a.removeData(d)}function j(a,e){var c=e&&e!=f?e.createElement(d):b;c.innerHTML="m<div>"+a+"</div>";return c.lastChild}function p(a,d,e){var b=d.nodeType;if(b==i.DOCUMENT_FRAGMENT_NODE){d=d.childNodes;e=e.childNodes;for(b=0;d[b];)e[b]&&p(a,d[b],e[b]),b++}else if(b==i.ELEMENT_NODE){d=d.getElementsByTagName("*");e=e.getElementsByTagName("*");for(b=0;d[b];)e[b]&&a(d[b],e[b]),b++}}function s(d,e){var b=
c.require("event/dom"),m,w;if(e.nodeType!=i.ELEMENT_NODE||a.hasData(d)){m=a.data(d);for(w in m)a.data(e,w,m[w]);b&&(b._DOMUtils.removeData(e),b._clone(d,e))}}function l(a){var d=null,e,b;if(a&&(a.push||a.item)&&a[0]){d=a[0].ownerDocument;d=d.createDocumentFragment();a=c.makeArray(a);e=0;for(b=a.length;e<b;e++)d.appendChild(a[e])}return d}var f=c.Env.host.document,i=a.NodeType,u=c.UA.ie,d="div",b=f&&f.createElement(d),k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,v=/<([\w:]+)/,
o=/^\s+/,y=/\s+$/,r=u&&9>u,m=/<|&#?\w+;/,e=f&&"outerHTML"in f.documentElement,B=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(a,{create:function(e,b,h,z){var w=null;if(!e)return w;if(e.nodeType)return a.clone(e);if("string"!=typeof e)return w;z===g&&(z=!0);z&&(e=c.trim(e));var z=a._creators,t,D,h=h||f,E,F=d;if(m.test(e))if(E=B.exec(e))w=h.createElement(E[1]);else{e=e.replace(k,"<$1></$2>");if((E=v.exec(e))&&(t=E[1]))F=t.toLowerCase();t=(z[F]||j)(e,h);r&&(D=e.match(o))&&t.insertBefore(h.createTextNode(D[0]),
t.firstChild);r&&/\S/.test(e)&&(D=e.match(y))&&t.appendChild(h.createTextNode(D[0]));e=t.childNodes;1===e.length?w=e[0].parentNode.removeChild(e[0]):e.length&&(w=l(e))}else w=h.createTextNode(e);c.isPlainObject(b)&&(w.nodeType==i.ELEMENT_NODE?a.attr(w,b,!0):w.nodeType==i.DOCUMENT_FRAGMENT_NODE&&a.attr(w.childNodes,b,!0));return w},_fixCloneAttributes:function(d,e){"textarea"===a.nodeName(d)&&(e.defaultValue=d.defaultValue,e.value=d.value)},_creators:{div:j},_defaultCreator:j,html:function(d,e,b){var d=
a.query(d),c=d[0],m=!1,t,h;if(!c)return null;if(e===g)return c.nodeType==i.ELEMENT_NODE?c.innerHTML:null;e+="";if(!e.match(/<(?:script|style|link)/i)&&(!r||!e.match(o))&&!A[(e.match(v)||["",""])[1].toLowerCase()])try{for(t=d.length-1;0<=t;t--)h=d[t],h.nodeType==i.ELEMENT_NODE&&(n(h.getElementsByTagName("*")),h.innerHTML=e);m=!0}catch(k){}m||(e=a.create(e,0,c.ownerDocument,0),a.empty(d),a.append(e,d,b));return g},outerHTML:function(c,m,h){var k=a.query(c),w=k.length,c=k[0];if(!c)return null;if(m===
g){if(e)return c.outerHTML;m=(m=c.ownerDocument)&&m!=f?m.createElement(d):b;m.innerHTML="";m.appendChild(a.clone(c,!0));m.appendChild(a.clone(c,!0));return m.innerHTML}m+="";if(!m.match(/<(?:script|style|link)/i)&&e)for(h=w-1;0<=h;h--)c=k[h],c.nodeType==i.ELEMENT_NODE&&(n(c),n(c.getElementsByTagName("*")),c.outerHTML=m);else c=a.create(m,0,c.ownerDocument,0),a.insertBefore(c,k,h),a.remove(k);return g},remove:function(d,e){var b,m=a.query(d),h,t,k=c.require("event/dom/base"),g;for(g=m.length-1;0<=
g;g--)b=m[g],!e&&b.nodeType==i.ELEMENT_NODE&&(h=c.makeArray(b.getElementsByTagName("*")),h.push(b),a.removeData(h),k&&k.detach(h)),(t=b.parentNode)&&t.removeChild(b)},clone:function(d,e,b,c){"object"===typeof e&&(c=e.deepWithDataAndEvent,b=e.withDataAndEvent,e=e.deep);var d=a.get(d),m,h=a._fixCloneAttributes,k;if(!d)return null;k=d.nodeType;m=d.cloneNode(e);if(k==i.ELEMENT_NODE||k==i.DOCUMENT_FRAGMENT_NODE)h&&k==i.ELEMENT_NODE&&h(d,m),e&&h&&p(h,d,m);b&&(s(d,m),e&&c&&p(s,d,m));return m},empty:function(d){var d=
a.query(d),e,b;for(b=d.length-1;0<=b;b--)e=d[b],a.remove(e.childNodes)},_nodeListToFragment:l});var h=a._creators,z=a.create,A={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},C;for(C in A)(function(a){h[C]=function(d,e){return z("<"+a+">"+d+"</"+a+">",null,e)}})(A[C]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,a,g){var n=c.Env.host,j="_ks_data_"+c.now(),p={},s={},l={applet:1,object:1,embed:1},f={hasData:function(a,b){if(a)if(b!==g){if(b in a)return!0}else if(!c.isEmptyObject(a))return!0;return!1}},i={hasData:function(a,b){return a==n?i.hasData(s,b):f.hasData(a[j],b)},data:function(a,b,c){if(a==n)return i.data(s,b,c);var f=a[j];if(c!==g)f=a[j]=a[j]||{},f[b]=c;else return b!==g?f&&f[b]:f=a[j]=a[j]||{}},removeData:function(a,b){if(a==n)return i.removeData(s,b);var k=a[j];
if(b!==g)delete k[b],c.isEmptyObject(k)&&i.removeData(a);else try{delete a[j]}catch(f){a[j]=g}}},u={hasData:function(a,b){var c=a[j];return!c?!1:f.hasData(p[c],b)},data:function(a,b,k){if(l[a.nodeName.toLowerCase()])return g;var f=a[j];if(!f){if(b!==g&&k===g)return g;f=a[j]=c.guid()}a=p[f];if(k!==g)a=p[f]=p[f]||{},a[b]=k;else return b!==g?a&&a[b]:a=p[f]=p[f]||{}},removeData:function(a,b){var k=a[j],f;if(k)if(f=p[k],b!==g)delete f[b],c.isEmptyObject(f)&&u.removeData(a);else{delete p[k];try{delete a[j]}catch(l){a[j]=
g}a.removeAttribute&&a.removeAttribute(j)}}};c.mix(a,{__EXPANDO:j,hasData:function(d,b){for(var c=!1,f=a.query(d),g=0;g<f.length&&!(c=f[g],c=c.nodeType?u.hasData(c,b):i.hasData(c,b));g++);return c},data:function(d,b,f){var d=a.query(d),l=d[0];if(c.isPlainObject(b)){for(var o in b)a.data(d,o,b[o]);return g}if(f===g){if(l)return l.nodeType?u.data(l,b):i.data(l,b)}else for(o=d.length-1;0<=o;o--)l=d[o],l.nodeType?u.data(l,b,f):i.data(l,b,f);return g},removeData:function(d,b){var c=a.query(d),f,g;for(g=
c.length-1;0<=g;g--)f=c[g],f.nodeType?u.removeData(f,b):i.removeData(f,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,a){function g(a,b){var c=[],j,o,n;for(j=0;a[j];j++)if(o=a[j],n=l(o),o.nodeType==p.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,g(f(o.childNodes),b));else if("script"===n&&(!o.type||u.test(o.type)))o.parentNode&&o.parentNode.removeChild(o),b&&b.push(o);else{if(o.nodeType==p.ELEMENT_NODE&&!s.test(n)){n=[];var r,m,e=o.getElementsByTagName("script");for(m=0;m<e.length;m++)r=e[m],(!r.type||u.test(r.type))&&n.push(r);i.apply(a,[j+1,0].concat(n))}c.push(o)}return c}function n(a){a.src?
c.getScript(a.src):(a=c.trim(a.text||a.textContent||a.innerHTML||""))&&c.globalEval(a)}function j(d,b,f,l){d=a.query(d);l&&(l=[]);d=g(d,l);a._fixInsertionChecked&&a._fixInsertionChecked(d);var b=a.query(b),i,j,r,m,e=b.length;if((d.length||l&&l.length)&&e){d=a._nodeListToFragment(d);1<e&&(m=a.clone(d,!0),b=c.makeArray(b));for(i=0;i<e;i++)j=b[i],d&&(r=0<i?a.clone(m,!0):d,f(r,j)),l&&l.length&&c.each(l,n)}}var p=a.NodeType,s=/^(?:button|input|object|select|textarea)$/i,l=a.nodeName,f=c.makeArray,i=[].splice,
u=/\/(java|ecma)script/i;c.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,c){j(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},c)},insertAfter:function(a,b,c){j(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},c)},appendTo:function(a,b,c){j(a,b,function(a,b){b.appendChild(a)},c)},prependTo:function(a,b,c){j(a,b,function(a,b){b.insertBefore(a,b.firstChild)},c)},wrapAll:function(c,b){b=a.clone(a.get(b),!0);c=a.query(c);c[0].parentNode&&a.insertBefore(b,
c[0]);for(var f;(f=b.firstChild)&&1==f.nodeType;)b=f;a.appendTo(c,b)},wrap:function(d,b){d=a.query(d);b=a.get(b);c.each(d,function(c){a.wrapAll(c,b)})},wrapInner:function(d,b){d=a.query(d);b=a.get(b);c.each(d,function(c){var d=c.childNodes;d.length?a.wrapAll(d,b):c.appendChild(b)})},unwrap:function(d){d=a.query(d);c.each(d,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(c,b){var f=a.query(c),b=a.query(b);a.remove(b,!0);a.insertBefore(b,f);a.remove(f)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){a[b]=a[c]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,a,g){function n(a){var e,b=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};e=a.getBoundingClientRect();a=e[k];e=e[v];a-=f.clientLeft||b.clientLeft||0;e-=f.clientTop||b.clientTop||0;return{left:a,top:e}}function j(c,e){var d={left:0,top:0},h=i(c[b]),f,g=c,e=e||h;do{if(h==e){var l=g;f=n(l);l=i(l[b]);f.left+=a[y](l);f.top+=a[r](l)}else f=n(g);d.left+=f.left;d.top+=f.top}while(h&&h!=e&&(g=h.frameElement)&&(h=h.parent));return d}var p=c.Env.host,
s=p.document,l=a.NodeType,f=s&&s.documentElement,i=a.getWindow,u=Math.max,d=parseInt,b="ownerDocument",k="left",v="top",o=c.isNumber,y="scrollLeft",r="scrollTop";c.mix(a,{offset:function(b,e,c){if(e===g){var b=a.get(b),h;b&&(h=j(b,c));return h}c=a.query(b);for(h=c.length-1;0<=h;h--){var b=c[h],f=e;"static"===a.css(b,"position")&&(b.style.position="relative");var l=j(b),i={},k=void 0,r=void 0;for(r in f)k=d(a.css(b,r),10)||0,i[r]=k+f[r]-l[r];a.css(b,i)}return g},scrollIntoView:function(b,e,f,h){var r,
j,n,q;if(n=a.get(b)){e&&(e=a.get(e));e||(e=n.ownerDocument);e.nodeType==l.DOCUMENT_NODE&&(e=i(e));c.isPlainObject(f)&&(h=f.allowHorizontalScroll,q=f.onlyScrollIfNeeded,f=f.alignWithTop);h=h===g?!0:h;j=!!i(e);var b=a.offset(n),o=a.outerHeight(n);r=a.outerWidth(n);var u,p,w,t;j?(j=e,u=a.height(j),p=a.width(j),t={left:a.scrollLeft(j),top:a.scrollTop(j)},j=b[k]-t[k],n=b[v]-t[v],r=b[k]+r-(t[k]+p),b=b[v]+o-(t[v]+u)):(u=a.offset(e),p=e.clientHeight,w=e.clientWidth,t={left:a.scrollLeft(e),top:a.scrollTop(e)},
j=b[k]-(u[k]+(d(a.css(e,"borderLeftWidth"))||0)),n=b[v]-(u[v]+(d(a.css(e,"borderTopWidth"))||0)),r=b[k]+r-(u[k]+w+(d(a.css(e,"borderRightWidth"))||0)),b=b[v]+o-(u[v]+p+(d(a.css(e,"borderBottomWidth"))||0)));if(q){if(0>n||0<b)!0===f?a.scrollTop(e,t.top+n):!1===f?a.scrollTop(e,t.top+b):0>n?a.scrollTop(e,t.top+n):a.scrollTop(e,t.top+b)}else(f=f===g?!0:!!f)?a.scrollTop(e,t.top+n):a.scrollTop(e,t.top+b);if(h)if(q){if(0>j||0<r)!0===f?a.scrollLeft(e,t.left+j):!1===f?a.scrollLeft(e,t.left+r):0>j?a.scrollLeft(e,
t.left+j):a.scrollLeft(e,t.left+r)}else(f=f===g?!0:!!f)?a.scrollLeft(e,t.left+j):a.scrollLeft(e,t.left+r)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(b,e){var c="scroll"+b;a[c]=function(d,f){if(o(d))return arguments.callee(p,d);var d=a.get(d),r,k,j,n=i(d);n?f!==g?(f=parseFloat(f),k="Left"==b?f:a.scrollLeft(n),j="Top"==b?f:a.scrollTop(n),n.scrollTo(k,j)):(r=n["page"+(e?"Y":"X")+"Offset"],o(r)||(k=n.document,r=k.documentElement[c],
o(r)||(r=k.body[c]))):d.nodeType==l.ELEMENT_NODE&&(f!==g?d[c]=parseFloat(f):r=d[c]);return r}});c.each(["Width","Height"],function(b){a["doc"+b]=function(e){e=a.get(e);e=i(e).document;return u(e.documentElement["scroll"+b],e.body["scroll"+b],a["viewport"+b](e))};a["viewport"+b]=function(e){var e=a.get(e),c="client"+b,e=i(e).document,d=e.body,f=e.documentElement[c];return"CSS1Compat"===e.compatMode&&f||d&&d[c]||f}});return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,a){function g(a){var b=this.length,e;for(e=0;e<b&&!1!==a(this[e],e);e++);}function n(c,f){var e,i;e="string"==typeof c;var h=f?n(f):(i=1)&&[l],k=h.length;if(c)if(e)if(c=y(c),i&&"body"==c)e=[l.body];else{e=[];for(i=0;i<k;i++)v.apply(e,a._selectInternal(c,h[i]));1<e.length&&1<k&&a.unique(e)}else{if(e=c.nodeType||c.setTimeout?[c]:c.getDOMNodes?c.getDOMNodes():u(c)?c:b(c)?d(c):[c],!i){var j=e,o,q=j.length;e=[];for(i=0;i<q;i++)for(o=0;o<k;o++)if(a._contains(h[o],
j[i])){e.push(j[i]);break}}}else e=[];e.each=g;return e}function j(a,b){var c=a&&(a.className||p(a,"class"));return c&&-1<(k+c+k).indexOf(k+b+k)}function p(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return c.nodeValue}function s(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var l=c.Env.host.document,f=l.documentElement,i=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector,u=c.isArray,d=c.makeArray,b=a._isNodeList,k=" ",v=Array.prototype.push,
o=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,y=c.trim;c.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:p,_isTag:s,_hasSingleClass:j,_matchesInternal:function(a,b){for(var c=[],d=0,f,g=b.length;d<g;d++)f=b[d],i.call(f,a)&&c.push(f);return c},_selectInternal:function(a,b){return d(b.querySelectorAll(a))},query:n,get:function(a,b){return n(a,b)[0]||null},unique:function(){function b(e,
d){return e==d?(c=!0,0):a._compareNodeOrder(e,d)}var c,e=!0;[0,0].sort(function(){e=!1;return 0});return function(a){c=e;a.sort(b);if(c)for(var d=1,f=a.length;d<f;)a[d]===a[d-1]?(a.splice(d,1),--f):d++;return a}}(),filter:function(b,d,e){var b=n(b,e),f,h,g,l,e=[];if("string"==typeof d&&(d=y(d))&&(g=o.exec(d)))f=g[1],h=g[2],l=g[3],f?f&&!h&&!l&&(d=function(a){return p(a,"id")==f}):d=function(a){var b=!0,c=!0;h&&(b=s(a,h));l&&(c=j(a,l));return c&&b};return e=c.isFunction(d)?c.filter(b,d):a._matchesInternal(d,
b)},test:function(b,c,e){b=n(b,e);return b.length&&a.filter(b,c,e).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,a,g){function n(a,b){return b.toUpperCase()}function j(a){return a.replace(m,"ms-").replace(x,n)}function p(a,b,c){var e={},d;for(d in b)e[d]=a[k][d],a[k][d]=b[d];c.call(a);for(d in b)a[k][d]=e[d]}function s(a,b,c){var e,d,f;if(3===a.nodeType||8===a.nodeType||!(e=a[k]))return g;b=j(b);f=A[b];b=C[b]||b;if(c!==g){null===c||c===B?c=B:!isNaN(Number(c))&&!r[b]&&(c+=h);f&&f.set&&(c=f.set(a,c));if(c!==g){try{e[b]=c}catch(l){}c===B&&e.removeAttribute&&e.removeAttribute(b)}e.cssText||
a.removeAttribute("style");return g}if(!f||!("get"in f&&(d=f.get(a,!1))!==g))d=e[b];return d===g?"":d}function l(a){var b,c=arguments;0!==a.offsetWidth?b=f.apply(g,c):p(a,G,function(){b=f.apply(g,c)});return b}function f(b,e,d){if(c.isWindow(b))return e==o?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return e==o?a.docWidth(b):a.docHeight(b);var f=e===o?["Left","Right"]:["Top","Bottom"],g=e===o?b.offsetWidth:b.offsetHeight;if(0<g)return"border"!==d&&c.each(f,function(c){d||(g-=parseFloat(a.css(b,
"padding"+c))||0);g="margin"===d?g+(parseFloat(a.css(b,d+c))||0):g-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),g;g=a._getComputedStyle(b,e);if(null==g||0>Number(g))g=b.style[e]||0;g=parseFloat(g)||0;d&&c.each(f,function(c){g+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==d&&(g+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===d&&(g+=parseFloat(a.css(b,d+c))||0)});return g}var i=c.Env.host,u=c.UA,d=a.nodeName,b=i.document,k="style",v=/^margin/,o="width",y="display"+c.now(),r={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},m=/^-ms-/,e=/([A-Z]|^ms)/g,B="",h="px",z=/\d(?!px)[a-z%]+$/i,A={},C={"float":"cssFloat"},q={},x=/-([a-z])/ig;c.mix(a,{_camelCase:j,_CUSTOM_STYLES:A,_cssProps:C,_getComputedStyle:function(b,c){var d="",f,g,h,l,i;g=b.ownerDocument;c=c.replace(e,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(b,null))d=f.getPropertyValue(c)||f[c];""===d&&!a.contains(g,b)&&(c=C[c]||c,d=b[k][c]);a._RE_NUM_NO_PX.test(d)&&v.test(c)&&(i=b.style,
g=i.width,h=i.minWidth,l=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=f.width,i.width=g,i.minWidth=h,i.maxWidth=l);return d},style:function(b,d,e){var b=a.query(b),f,h=b[0];if(c.isPlainObject(d)){for(f in d)for(h=b.length-1;0<=h;h--)s(b[h],f,d[f]);return g}if(e===g)return f="",h&&(f=s(h,d,e)),f;for(h=b.length-1;0<=h;h--)s(b[h],d,e);return g},css:function(b,d,e){var b=a.query(b),f=b[0],h;if(c.isPlainObject(d)){for(h in d)for(f=b.length-1;0<=f;f--)s(b[f],h,d[h]);return g}d=j(d);h=A[d];if(e===g){e="";
if(f&&(!h||!("get"in h&&(e=h.get(f,!0))!==g)))e=a._getComputedStyle(f,d);return"undefined"==typeof e?"":e}for(f=b.length-1;0<=f;f--)s(b[f],d,e);return g},show:function(c){var c=a.query(c),d,e,f;for(f=c.length-1;0<=f;f--)if(e=c[f],e[k].display=a.data(e,y)||B,"none"===a.css(e,"display")){d=e.tagName.toLowerCase();var g=void 0,h=q[d],l=void 0;q[d]||(g=b.body||b.documentElement,l=b.createElement(d),a.prepend(l,g),h=a.css(l,"display"),g.removeChild(l),q[d]=h);d=h;a.data(e,y,d);e[k].display=d}},hide:function(b){var b=
a.query(b),c,d;for(d=b.length-1;0<=d;d--){c=b[d];var e=c[k],f=e.display;"none"!==f&&(f&&a.data(c,y,f),e.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){b=b||i;"string"==typeof b&&(d=c,c=b,b=i);var b=a.get(b),b=a.getWindow(b).document,e;if(d&&(d=d.replace("#",B)))e=a.get("#"+d,b);e||(e=a.create("<style>",{id:d},b),a.get("head",b).appendChild(e),e.styleSheet?e.styleSheet.cssText=
c:e.appendChild(b.createTextNode(c)))},unselectable:function(b){var b=a.query(b),e,f,g=0,h,l;for(f=b.length-1;0<=f;f--)if(e=b[f],l=e[k],l.UserSelect="none",u.gecko)l.MozUserSelect="none";else if(u.webkit)l.WebkitUserSelect="none";else if(u.ie||u.opera){l=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(h=["iframe","textarea","input","select"];e=l[g++];)c.inArray(d(e),h)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});
c.each([o,"height"],function(b){a["inner"+c.ucfirst(b)]=function(c){return(c=a.get(c))&&l(c,b,"padding")};a["outer"+c.ucfirst(b)]=function(c,d){var e=a.get(c);return e&&l(e,b,d?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e}});var G={position:"absolute",visibility:"hidden",display:"block"};c.each(["height","width"],function(a){A[a]={get:function(b,c){var d;c&&(d=l(b,a)+"px");return d}}});c.each(["left","top"],function(c){A[c]={get:function(d,e){var f,g,h;if(e){h=
a.css(d,"position");if("static"===h)return"auto";f=a._getComputedStyle(d,c);if((g="auto"===f)&&"relative"===h)return"0px";if(g||z.test(f)){h={top:0,left:0};if("fixed"==a.css(d,"position"))g=d.getBoundingClientRect();else{for(f=d.offsetParent||(d.ownerDocument||b).body;f&&!H.test(f.nodeName)&&"static"===a.css(f,"position");)f=f.offsetParent;g=a.offset(d);h=a.offset(f);h.top+=parseFloat(a.css(f,"borderTopWidth"))||0;h.left+=parseFloat(a.css(f,"borderLeftWidth"))||0}g.top-=parseFloat(a.css(d,"marginTop"))||
0;g.left-=parseFloat(a.css(d,"marginLeft"))||0;f={top:g.top-h.top,left:g.left-h.left}[c]+"px"}}return f}}});var H=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,a,g){function n(l,f,i,n,d,b,k){if(!(l=a.get(l)))return null;if(0===f)return l;b||(l=l[i]);if(!l)return null;d=d&&a.get(d)||null;f===g&&(f=1);var b=[],p=c.isArray(f),o,y;c.isNumber(f)&&(o=0,y=f,f=function(){return++o===y});for(;l&&l!=d;){if((l.nodeType==s.ELEMENT_NODE||l.nodeType==s.TEXT_NODE&&k)&&j(l,f)&&(!n||n(l)))if(b.push(l),!p)break;l=l[i]}return p?b:b[0]||null}function j(g,f){if(!f)return!0;if(c.isArray(f)){var i,j=f.length;if(!j)return!0;for(i=0;i<j;i++)if(a.test(g,
f[i]))return!0}else if(a.test(g,f))return!0;return!1}function p(g,f,i,j){var d=[],b,k;if((b=g=a.get(g))&&i)b=g.parentNode;if(b){i=c.makeArray(b.childNodes);for(b=0;b<i.length;b++)k=i[b],(j||k.nodeType==s.ELEMENT_NODE)&&k!=g&&d.push(k);f&&(d=a.filter(d,f))}return d}var s=a.NodeType;c.mix(a,{_contains:function(a,c){return!!(a.compareDocumentPosition(c)&16)},closest:function(a,c,g,j){return n(a,c,"parentNode",function(a){return a.nodeType!=s.DOCUMENT_FRAGMENT_NODE},g,!0,j)},parent:function(a,c,i){return n(a,
c,"parentNode",function(a){return a.nodeType!=s.DOCUMENT_FRAGMENT_NODE},i,g)},first:function(c,f,i){c=a.get(c);return n(c&&c.firstChild,f,"nextSibling",g,g,!0,i)},last:function(c,f,i){c=a.get(c);return n(c&&c.lastChild,f,"previousSibling",g,g,!0,i)},next:function(a,c,i){return n(a,c,"nextSibling",g,g,g,i)},prev:function(a,c,i){return n(a,c,"previousSibling",g,g,g,i)},siblings:function(a,c,g){return p(a,c,!0,g)},children:function(a,c){return p(a,c,g)},contents:function(a,c){return p(a,c,g,1)},contains:function(c,
f){c=a.get(c);f=a.get(f);return c&&f?a._contains(c,f):!1},index:function(g,f){var i=a.query(g),j,d=0;j=i[0];if(!f){i=j&&j.parentNode;if(!i)return-1;for(;j=j.previousSibling;)j.nodeType==s.ELEMENT_NODE&&d++;return d}d=a.query(f);return"string"===typeof f?c.indexOf(j,d):c.indexOf(d[0],i)},equals:function(c,f){c=a.query(c);f=a.query(f);if(c.length!=f.length)return!1;for(var g=c.length;0<=g;g--)if(c[g]!=f[g])return!1;return!0}});return a},{requires:["./api"]});
