/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Apr 17 00:15
*/
KISSY.add("dom/ie/attr",function(e,c){function i(h){var a="",g=h.nodeType;if(g===c.NodeType.ELEMENT_NODE)for(h=h.firstChild;h;h=h.nextSibling)a+=i(h);else if(g==k.TEXT_NODE||g==k.CDATA_SECTION_NODE)a+=h.nodeValue;return a}var d=c._attrHooks,l=c._attrNodeHook,k=c.NodeType,b=c._valHooks,a=c._propFix;8>e.UA.ie&&(d.style.set=function(a,f){a.style.cssText=f},e.mix(l,{get:function(a,f){var g=a.getAttributeNode(f);return g&&(g.specified||g.nodeValue)?g.nodeValue:void 0},set:function(a,f,g){var b=a.getAttributeNode(g),
m;if(b)b.nodeValue=f;else try{m=a.ownerDocument.createAttribute(g),m.value=f,a.setAttributeNode(m)}catch(c){return a.setAttribute(g,f,0)}}}),e.mix(c._attrFix,a),d.tabIndex=d.tabindex,e.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){d[a]={get:function(f){f=f.getAttribute(a,2);return f===null?void 0:f}}}),b.button=d.value=l,b.option={get:function(a){var f=a.attributes.value;return!f||f.specified?a.value:a.text}});(d.href=d.href||{}).set=function(a,f,b){for(var j=a.childNodes,c,
d=j.length,e=d>0,d=d-1;d>=0;d--)j[d].nodeType!=k.TEXT_NODE&&(e=0);if(e){c=a.ownerDocument.createElement("b");c.style.display="none";a.appendChild(c)}a.setAttribute(b,""+f);c&&a.removeChild(c)};c._getText=i;return c},{requires:["dom/base"]});
KISSY.add("dom/ie/create",function(e,c){c._fixCloneAttributes=function(d,b){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(d);var a=b.nodeName.toLowerCase(),h=d.childNodes;if("object"===a&&!b.childNodes.length)for(a=0;a<h.length;a++)b.appendChild(h[a].cloneNode(!0));else if("input"===a&&("checkbox"===d.type||"radio"===d.type)){if(d.checked&&(b.defaultChecked=b.checked=d.checked),b.value!==d.value)b.value=d.value}else if("option"===a)b.selected=d.defaultSelected;else if("input"===
a||"textarea"===a)b.defaultValue=d.defaultValue,b.value=d.value;b.removeAttribute(c.__EXPANDO)};var i=c._creators,d=c._defaultCreator,l=/<tbody/i;8>e.UA.ie&&(i.table=function(i,b){var a=d(i,b);if(l.test(i))return a;var h=a.firstChild,f=e.makeArray(h.childNodes);e.each(f,function(a){"tbody"==c.nodeName(a)&&!a.childNodes.length&&h.removeChild(a)});return a})},{requires:["dom/base"]});KISSY.add("dom/ie",function(e,c){return c},{requires:"./ie/attr,./ie/create,./ie/insertion,./ie/style,./ie/traversal,./ie/input-selection".split(",")});
KISSY.add("dom/ie/input-selection",function(e,c){function i(a,b){var f=0,c=0,j=a.ownerDocument.selection.createRange(),m=d(a);m.inRange(j)&&(m.setEndPoint("EndToStart",j),f=k(a,m).length,b&&(c=f+k(a,j).length));return[f,c]}function d(a){if("textarea"==a.type){var d=a.document.body.createTextRange();d.moveToElementText(a);return d}return a.createTextRange()}function l(a,d,b){var c=Math.min(d,b),j=Math.max(d,b);return c==j?0:"textarea"==a.type?(a=a.value.substring(c,j).replace(/\r\n/g,"\n").length,
d>b&&(a=-a),a):b-d}function k(a,d){if("textarea"==a.type){var b=d.text,c=d.duplicate();if(0==c.compareEndPoints("StartToEnd",c))return b;c.moveEnd("character",-1);c.text==b&&(b+="\r\n");return b}return d.text}var b=c._propHooks;b.selectionStart={set:function(a,b){var c=a.ownerDocument.selection.createRange();if(d(a).inRange(c)){var g=i(a,1)[1],j=l(a,b,g);c.collapse(!1);c.moveStart("character",-j);b>g&&c.collapse(!0);c.select()}},get:function(a){return i(a)[0]}};b.selectionEnd={set:function(a,b){var c=
a.ownerDocument.selection.createRange();if(d(a).inRange(c)){var g=i(a)[0],j=l(a,g,b);c.collapse(!0);c.moveEnd("character",j);g>b&&c.collapse(!1);c.select()}},get:function(a){return i(a,1)[1]}}},{requires:["dom/base"]});
KISSY.add("dom/ie/insertion",function(e,c){8>e.UA.ie&&(c._fixInsertionChecked=function d(e){for(var k=0;k<e.length;k++){var b=e[k];if(b.nodeType==c.NodeType.DOCUMENT_FRAGMENT_NODE)d(b.childNodes);else if("input"==c.nodeName(b)){if("checkbox"===b.type||"radio"===b.type)b.defaultChecked=b.checked}else if(b.nodeType==c.NodeType.ELEMENT_NODE)for(var b=b.getElementsByTagName("input"),a=0;a<b.length;a++)d(b[a])}})},{requires:["dom/base"]});
KISSY.add("dom/ie/style",function(e,c){var i=c._cssProps,d=e.UA,l=e.Env.host.document,l=l&&l.documentElement,k=/^(top|right|bottom|left)$/,b=c._CUSTOM_STYLES,a=/opacity\s*=\s*([^)]*)/,h=/alpha\([^)]*\)/i;i["float"]="styleFloat";b.backgroundPosition={get:function(a,b){return b?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==l.style.opacity&&(b.opacity={get:function(b,c){return a.test((c&&b.currentStyle?b.currentStyle.filter:b.style.filter)||
"")?parseFloat(RegExp.$1)/100+"":c?"1":""},set:function(a,b){var b=parseFloat(b),c=a.style,d=a.currentStyle,f=isNaN(b)?"":"alpha(opacity="+100*b+")",g=e.trim(d&&d.filter||c.filter||"");c.zoom=1;if((1<=b||!f)&&!e.trim(g.replace(h,"")))if(c.removeAttribute("filter"),!f||d&&!d.filter)return;c.filter=h.test(g)?g.replace(h,f):g+(g?", ":"")+f}})}catch(f){}var d=8==d.ie,g={};g.thin=d?"1px":"2px";g.medium=d?"3px":"4px";g.thick=d?"5px":"6px";e.each(["","Top","Left","Right","Bottom"],function(a){var c="border"+
a+"Width",d="border"+a+"Style";b[c]={get:function(a,b){var f=b?a.currentStyle:0,e=f&&""+f[c]||void 0;e&&0>e.indexOf("px")&&(e=g[e]&&"none"!==f[d]?g[e]:0);return e}}});c._getComputedStyle=function(a,b){var b=i[b]||b,d=a.currentStyle&&a.currentStyle[b];if(c._RE_NUM_NO_PX.test(d)&&!k.test(b)){var f=a.style,e=f.left,g=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;f.left="fontSize"===b?"1em":d||0;d=f.pixelLeft+"px";f.left=e;a.runtimeStyle.left=g}return""===d?"auto":d}},{requires:["dom/base"]});
KISSY.add("dom/ie/traversal",function(e,c){c._contains=function(e,d){e.nodeType==c.NodeType.DOCUMENT_NODE&&(e=e.documentElement);d=d.parentNode;return e==d?!0:d&&d.nodeType==c.NodeType.ELEMENT_NODE?e.contains&&e.contains(d):!1}},{requires:["dom/base"]});
