/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jan 31 22:56
*/
KISSY.add("dom/ie/attr",function(h,c){var f=c._attrHooks,g=c._attrNodeHook,k=c.NodeType,d=c._valHooks,b=c._propFix;8>h.UA.ie&&(f.style.set=function(a,e){a.style.cssText=e},h.mix(g,{get:function(a,e){var i=a.getAttributeNode(e);return i&&(i.specified||i.nodeValue)?i.nodeValue:void 0},set:function(a,e,i){var b=a.getAttributeNode(i),j;if(b)b.nodeValue=e;else try{j=a.ownerDocument.createAttribute(i),j.value=e,a.setAttributeNode(j)}catch(c){return a.setAttribute(i,e,0)}}}),h.mix(c._attrFix,b),f.tabIndex=
f.tabindex,h.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){f[a]={get:function(e){e=e.getAttribute(a,2);return e===null?void 0:e}}}),d.button=f.value=g,d.option={get:function(a){var e=a.attributes.value;return!e||e.specified?a.value:a.text}});(f.href=f.href||{}).set=function(a,e,b){for(var c=a.childNodes,j,d=c.length,g=d>0,d=d-1;d>=0;d--)c[d].nodeType!=k.TEXT_NODE&&(g=0);if(g){j=a.ownerDocument.createElement("b");j.style.display="none";a.appendChild(j)}a.setAttribute(b,""+e);
j&&a.removeChild(j)};return c},{requires:["dom/base"]});
KISSY.add("dom/ie/create",function(h,c){c._fixCloneAttributes=function(d,b){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(d);var a=b.nodeName.toLowerCase(),e=d.childNodes;if("object"===a&&!b.childNodes.length)for(a=0;a<e.length;a++)b.appendChild(e[a].cloneNode(!0));else if("input"===a&&("checkbox"===d.type||"radio"===d.type)){if(d.checked&&(b.defaultChecked=b.checked=d.checked),b.value!==d.value)b.value=d.value}else if("option"===a)b.selected=d.defaultSelected;else if("input"===
a||"textarea"===a)b.defaultValue=d.defaultValue;b.removeAttribute(c.__EXPANDO)};var f=c._creators,g=c._defaultCreator,k=/<tbody/i;8>h.UA.ie&&(f.table=function(d,b){var a=g(d,b);if(k.test(d))return a;var e=a.firstChild,i=h.makeArray(e.childNodes);h.each(i,function(a){"tbody"==c.nodeName(a)&&!a.childNodes.length&&e.removeChild(a)});return a})},{requires:["dom/base"]});KISSY.add("dom/ie",function(h,c){return c},{requires:"./ie/attr,./ie/create,./ie/insertion,./ie/selector,./ie/style,./ie/traversal,./ie/input-selection".split(",")});
KISSY.add("dom/ie/input-selection",function(h,c){function f(a,e){var b=0,c=0,j=a.ownerDocument.selection.createRange(),f=g(a);f.inRange(j)&&(f.setEndPoint("EndToStart",j),b=d(a,f).length,e&&(c=b+d(a,j).length));return[b,c]}function g(a){if("textarea"==a.type){var b=a.document.body.createTextRange();b.moveToElementText(a);return b}return a.createTextRange()}function k(a,b,c){var d=Math.min(b,c),j=Math.max(b,c);return d==j?0:"textarea"==a.type?(a=a.value.substring(d,j).replace(/\r\n/g,"\n").length,
b>c&&(a=-a),a):c-b}function d(a,b){if("textarea"==a.type){var c=b.text,d=b.duplicate();if(0==d.compareEndPoints("StartToEnd",d))return c;d.moveEnd("character",-1);d.text==c&&(c+="\r\n");return c}return b.text}var b=c._propHooks;b.selectionStart={set:function(a,b){var c=a.ownerDocument.selection.createRange();if(g(a).inRange(c)){var d=f(a,1)[1],j=k(a,b,d);c.collapse(!1);c.moveStart("character",-j);b>d&&c.collapse(!0);c.select()}},get:function(a){return f(a)[0]}};b.selectionEnd={set:function(a,b){var c=
a.ownerDocument.selection.createRange();if(g(a).inRange(c)){var d=f(a)[0],j=k(a,d,b);c.collapse(!0);c.moveEnd("character",j);d>b&&c.collapse(!1);c.select()}},get:function(a){return f(a,1)[1]}}},{requires:["dom/base"]});
KISSY.add("dom/ie/insertion",function(h,c){8>h.UA.ie&&(c._fixInsertionChecked=function g(k){for(var d=0;d<k.length;d++){var b=k[d];if(b.nodeType==c.NodeType.DOCUMENT_FRAGMENT_NODE)g(b.childNodes);else if("input"==c.nodeName(b)){if("checkbox"===b.type||"radio"===b.type)b.defaultChecked=b.checked}else if(b.nodeType==c.NodeType.ELEMENT_NODE)for(var b=b.getElementsByTagName("input"),a=0;a<b.length;a++)g(b[a])}})},{requires:["dom/base"]});
KISSY.add("dom/ie/selector",function(h,c){var f=h.Env.host.document;c._compareNodeOrder=function(c,f){return c.sourceIndex-f.sourceIndex};f.querySelectorAll||(c._getElementsByClassName=function(f,h,d){if(!d)return[];for(var h=d.getElementsByTagName(h||"*"),d=[],b=0,a=0,e=h.length,i;b<e;++b)i=h[b],c._hasSingleClass(i,f)&&(d[a++]=i);return d});c._getElementsByTagName=function(c,f){var d=h.makeArray(f.getElementsByTagName(c)),b,a,e,i;if(c==="*"){b=[];for(e=a=0;i=d[a++];)i.nodeType===1&&(b[e++]=i);d=
b}return d}},{requires:["dom/base"]});
KISSY.add("dom/ie/style",function(h,c){var f=c._cssProps,g=h.UA,k=h.Env.host.document,k=k&&k.documentElement,d=/^(top|right|bottom|left)$/,b=c._CUSTOM_STYLES,a=/opacity\s*=\s*([^)]*)/,e=/alpha\([^)]*\)/i;f["float"]="styleFloat";b.backgroundPosition={get:function(a,b){return b?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==k.style.opacity&&(b.opacity={get:function(b,c){return a.test((c&&b.currentStyle?b.currentStyle.filter:b.style.filter)||
"")?parseFloat(RegExp.$1)/100+"":c?"1":""},set:function(a,b){var b=parseFloat(b),c=a.style,d=a.currentStyle,f=isNaN(b)?"":"alpha(opacity="+100*b+")",g=h.trim(d&&d.filter||c.filter||"");c.zoom=1;if((1<=b||!f)&&!h.trim(g.replace(e,"")))if(c.removeAttribute("filter"),!f||d&&!d.filter)return;c.filter=e.test(g)?g.replace(e,f):g+(g?", ":"")+f}})}catch(i){}var g=8==g.ie,l={};l.thin=g?"1px":"2px";l.medium=g?"3px":"4px";l.thick=g?"5px":"6px";h.each(["","Top","Left","Right","Bottom"],function(a){var c="border"+
a+"Width",d="border"+a+"Style";b[c]={get:function(a,b){var f=b?a.currentStyle:0,e=f&&""+f[c]||void 0;e&&0>e.indexOf("px")&&(e=l[e]&&"none"!==f[d]?l[e]:0);return e}}});c._getComputedStyle=function(a,b){var b=f[b]||b,e=a.currentStyle&&a.currentStyle[b];if(c._RE_NUM_NO_PX.test(e)&&!d.test(b)){var g=a.style,h=g.left,i=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;g.left="fontSize"===b?"1em":e||0;e=g.pixelLeft+"px";g.left=h;a.runtimeStyle.left=i}return""===e?"auto":e}},{requires:["dom/base"]});
KISSY.add("dom/ie/traversal",function(h,c){c._contains=function(f,g){f.nodeType==c.NodeType.DOCUMENT_NODE&&(f=f.documentElement);g=g.parentNode;return f==g?!0:g&&g.nodeType==c.NodeType.ELEMENT_NODE?f.contains&&f.contains(g):!1}},{requires:["dom/base"]});
